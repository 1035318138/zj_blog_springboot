/*
 Navicat Premium Data Transfer

 Source Server         : 209.246.143.167
 Source Server Type    : MySQL
 Source Server Version : 80017
 Source Host           : 209.246.143.167:3306
 Source Schema         : my_blog

 Target Server Type    : MySQL
 Target Server Version : 80017
 File Encoding         : 65001

 Date: 17/08/2019 08:55:41
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for tb_article
-- ----------------------------
DROP TABLE IF EXISTS `tb_article`;
CREATE TABLE `tb_article`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `title` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标题',
  `title_pic` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '封面图片',
  `author` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '作者',
  `content` mediumtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '文章内容',
  `leave_message` mediumtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '留言',
  `origin` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '来源',
  `state` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '状态',
  `eye_count` bigint(20) NULL DEFAULT 0 COMMENT '浏览量',
  `publish_time` timestamp(0) NOT NULL DEFAULT '1970-01-01 00:00:01' COMMENT '发布时间',
  `edit_time` timestamp(0) NOT NULL DEFAULT '1970-01-01 00:00:02' COMMENT '上次修改时间',
  `create_time` timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 22 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文章表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_article
-- ----------------------------
INSERT INTO `tb_article` VALUES (14, '哈哈', 'https://cdn.dribbble.com/users/255/screenshots/6707732/disneyland.jpg', 'zhangsan', '你好啊', '给个赞你', '来自广东的朋友...', '1', 89, '2019-08-05 04:14:51', '2019-08-05 04:14:51', '2019-08-05 04:14:51');
INSERT INTO `tb_article` VALUES (15, '嘿嘿', 'https://cdn.dribbble.com/users/255/screenshots/6751395/mulan_for_honor_2x.jpg', 'lisi', '我好啊', '赞啊', '来自山顶的朋友...', '1', 33, '2019-08-05 04:14:10', '2019-08-05 04:14:10', '2019-08-05 04:14:10');
INSERT INTO `tb_article` VALUES (16, 'Razer Blade 灵刃 15 2019 精英版简评', 'https://img.flyhigher.top/wp-content/uploads/2019/07/razer21.jpg', '无垠', '<article class=\"post-1411 post type-post status-publish format-standard has-post-thumbnail hentry category-diary tag-99 tag-97 tag-100  mdui-typo\" id=\"post-1411\" itemprop=\"articleBody\"><blockquote><p>“你这什么电脑啊，也是惠普的么？比我的还重一点欸。”同学拿着暗影精灵说。<br> “emmmm….杂牌电脑，买灯送的。”</p></blockquote><p>考完高考，该换台电脑了。我此前在用的是一台 Dell Inspiron 15 7560，一台从商务本的角度来看还算不错的笔记本，平常用来写写代码还不错，但在我剪视频以及折腾 C4D 的时候明显有些力不从心，更别提运行大型游戏了。于是趁着这次换机机会，我打算换一台<strong>性能还算不错，又能带着走</strong>的笔记本。这么想着，我列出了我的需求：</p><ul><li>性能较高</li><li>便携性好（薄、重量轻、电池续航长等）</li><li>外观低调</li><li>预算最高 2.5w</li></ul><p>由于并不喜欢外观太张扬的「游戏本风格」，我希望我选择的笔记本外观干净低调。此外，由于我最近正在折腾学习 ML，我希望显卡可以是 20 系的（虽然 10 系也不是不能用…）。满足以上需求的只有以下几种选择：</p><ul><li>技嘉 Aero 15</li><li>Razer Blade 15 2019 精英版</li><li>msi GS75</li></ul><p>至于败家之眼由于太过张扬，直接被我排除了。在仅剩的三个选择里面，Razer Blade 15 的外观在我看来是最低调简约的，而且屏幕有 1080P+240Hz 和 4K+触摸两种都很不错的规格可选，唯一的问题大概就是在 10 代 U 都快能买到的时候，Razer Blade 15 的 CPU 还是 8 代的。</p><p>（哦…缺点大概还有比较贵吧…）</p><p>在我纠结的时候，我联系的卖家告诉我 Razer Blade 9 代 U 的版本已经到国内总代了，如果顺利的话他可以在 6.16 第一批直接给我发货；另外他也可以为高考生提供优惠。既然都这样了还有什么好纠结的，买了！选了 2070 Max-Q/16GB/256GB/1080P/240Hz 的版本，下单付款，果然在 16 号顺利入手。</p><p>最终确定这个配置是因为 2080 的版本太贵，但是 4K 触摸屏版本只在 2080 版本上有，只好选了 1080P；另外 512 GB 的版本比我买的 256 GB 贵了 2K，于是决定自己买块 1T 的盘换掉。</p><p>包装箱也很低调，只在侧面露出一抹骚绿。</p><p><img width=\"2500\" height=\"1875\" class=\"aligncenter size-full wp-image-1398 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer13.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer13.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer13.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer13.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-300x225.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-768x576.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-1024x768.jpg 1024w\" sizes=\"(max-width: 2500px) 100vw, 2500px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer13.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-300x225.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-768x576.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer13-1024x768.jpg 1024w\" style=\"\"></p><p>正面和背面。照片是在用了一个多月以后拍的，看起来有点脏。</p><p><img width=\"2000\" height=\"1349\" class=\"aligncenter size-full wp-image-1394 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer8.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer8.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer8.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer8.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-300x202.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-768x518.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-1024x691.jpg 1024w\" sizes=\"(max-width: 2000px) 100vw, 2000px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer8.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-300x202.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-768x518.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer8-1024x691.jpg 1024w\" style=\"\"><br> <img width=\"2300\" height=\"1630\" class=\"aligncenter size-full wp-image-1386 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer10.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer10.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer10.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer10.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-300x213.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-768x544.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-1024x726.jpg 1024w\" sizes=\"(max-width: 2300px) 100vw, 2300px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer10.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-300x213.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-768x544.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer10-1024x726.jpg 1024w\" style=\"\"></p><p>卸下后盖十颗梅花螺丝就能打开后盖。</p><p><img width=\"2000\" height=\"2636\" class=\"aligncenter size-full wp-image-1399 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer14.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer14.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer14.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer14.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-228x300.jpg 228w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-768x1012.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-777x1024.jpg 777w\" sizes=\"(max-width: 2000px) 100vw, 2000px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer14.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-228x300.jpg 228w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-768x1012.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer14-777x1024.jpg 777w\" style=\"\"></p><p>SSD、内存条和无线网卡都在触手可及的地方。这张图里我已经换好了 SSD。</p><p><img width=\"2500\" height=\"1790\" class=\"aligncenter size-full wp-image-1400 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer15.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer15.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer15.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer15.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-300x215.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-768x550.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-1024x733.jpg 1024w\" sizes=\"(max-width: 2500px) 100vw, 2500px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer15.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-300x215.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-768x550.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer15-1024x733.jpg 1024w\" style=\"\"></p><p>网卡是 AX200NGW，Intel 第一款支持 Wi-Fi 6 的网卡，好评。内存为双通道 DDR4，支持 XMP，不过我懒得折腾了。</p><p><img width=\"2000\" height=\"1795\" class=\"aligncenter size-full wp-image-1401 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer16.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer16.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer16.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer16.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-300x269.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-768x689.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-1024x919.jpg 1024w\" sizes=\"(max-width: 2000px) 100vw, 2000px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer16.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-300x269.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-768x689.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer16-1024x919.jpg 1024w\" style=\"\"></p><p><strong>后盖只有一处卡扣，在靠近转轴一侧中间的位置，安装后盖的时候需要注意下。此外后盖和机身卡得比较紧，安装的时候需要注意下后盖有没有完全卡入机身。</strong></p><p>然后开机。硬盘复制和升级系统什么的就不再赘述了。自带 Windows 10 家庭版，为了装 Docker 我升级到了专业版。</p><p>从开箱到现在，我已经使用这台电脑一月有余。讲讲使用上的感受吧。</p><h3>机身</h3><p><strong>有人说 Blade 就是 Windows 版的 Macbook，这个说法其实还算贴切。</strong>整个金属材质的 A 面只有一个 Razer 的 Logo，屏幕点亮的时候会一同亮起。B 面是支持 Windows Hello 的摄像头、屏幕和一个比较低调的 Razer Logo。屏幕三面边框比较窄，观感不错。<strong>而一旦打开屏幕，Windows Hello 就会开始识别你的面部，并极快地解锁进入桌面，很舒服。</strong></p><p><img width=\"2000\" height=\"1500\" class=\"aligncenter size-full wp-image-1396 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer11.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer11.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer11.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer11.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-300x225.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-768x576.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-1024x768.jpg 1024w\" sizes=\"(max-width: 2000px) 100vw, 2000px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer11.jpg 2000w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-300x225.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-768x576.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer11-1024x768.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">和 Windows Hello 说声 Hello？</span></p><p><strong>B 面边缘有一圈非常细的胶圈，可以在屏幕闭合的时候起密封的作用（不过实测效果不大…）。</strong>C 面是键盘、扬声器、开机键和触控板，这些后面会细说。<strong>D 面是塑料材质，有两条蛮厚的橡胶条把机身垫高</strong>，猜测是为了散热。</p><p>Razer Blade 15 的接口比较丰富。左侧：</p><ul><li>电源接口</li><li>2 个 USB 3.2 Gen 2 Type-A 接口</li><li>1 个 3.5 mm 组合音频插孔</li></ul><p>右侧：</p><ul><li>1 个 USB 3.2 Gen 2 Type-A 接口</li><li>1 个雷电 3 接口（通过 GPU 输出）</li><li>1 个 HDMI 2.0B 接口</li><li>1 个 MiniDisplayPort 1.4 接口</li><li>安全锁孔</li></ul><p>这些接口日常使用完全够用，通过雷电 3 也能获得不错的拓展性（不过雷电 3 似乎需要跟独显抢带宽…）。</p><p><strong>机身边缘比较锐，不过出乎意料地不是非常割手。</strong>之前在用的 Dell Inspiron 15 7560 边缘极其锋利，非常割手，难受。现在（相对来说）打字舒服很多了，好评。</p><p><strong>机身很薄，薄到有点出乎意料。</strong>官方数据只有 17.8mm，就算加上把机身垫高了的橡胶条也还是比一枚硬币矮。然而毕竟还是塞了这么多硬件进去，看起来轻薄但<strong>实际上一点都不轻</strong>，官方数据 2.07 kg，加上砖头一样的电源适配器，<strong>出趟门其实还是有点累的。</strong></p><p><img width=\"2300\" height=\"1136\" class=\"aligncenter size-full wp-image-1395 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer9.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer9.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer9.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer9.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-300x148.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-768x379.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-1024x506.jpg 1024w\" sizes=\"(max-width: 2300px) 100vw, 2300px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer9.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-300x148.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-768x379.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer9-1024x506.jpg 1024w\" style=\"\"></p><h3>续航</h3><p>出乎意料，<strong>续航还不错</strong>，达到了我的预期。电池达到了 80Wh，我日常一个 VSCode 写代码，一个 Chrome 查资料，<strong>续航可以达到 8 小时出头</strong>，就算是在玩 HITMAN 1 小时后，电量仍能剩余一半左右。也就是说，短时间的移动办公完全不是问题，可以不带上厚重的电源适配器，算是解决了一部分「重」的问题吧。</p><p><img width=\"2500\" height=\"1860\" class=\"aligncenter size-full wp-image-1397 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer12.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer12.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer12.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer12.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-300x223.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-768x571.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-1024x762.jpg 1024w\" sizes=\"(max-width: 2500px) 100vw, 2500px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer12.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-300x223.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-768x571.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer12-1024x762.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">电源适配器有点大</span></p><h3>屏幕</h3><p><strong>爽！真的爽！240Hz 刷新率带来的是实打实的流畅感</strong>，和 90Hz 那种需要用一段时间才能感受到的流程感不同， 240Hz 带来的是在桌面上划划鼠标都能感受到的异常流畅的感觉。</p><p>不过受限于这块 2070 Max-Q，很多游戏游戏都没能完全利用这块屏幕的性能，再加上我不玩 FPS 游戏，高刷新率对我来说意义不大，<strong>这块屏幕的 240Hz 对我来说噱头大于实际作用（但是没得选啊…）。</strong>屏幕为 IPS 面板，覆盖 100% sRGB，并有出厂校色。由于我手头没有校色设备，具体参数暂时无法测量，但就官方数据来看，这块屏幕的素质还是不错的。当然 4K 版本由于面向设计师等，屏幕参数会更好，可惜我是体验不到了。</p><h3>键盘、触控板和扬声器</h3><p><img width=\"2300\" height=\"1619\" class=\"aligncenter size-full wp-image-1391 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer5.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer5.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer5.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer5.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-300x211.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-768x541.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-1024x721.jpg 1024w\" sizes=\"(max-width: 2300px) 100vw, 2300px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer5.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-300x211.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-768x541.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer5-1024x721.jpg 1024w\" style=\"\"></p><p>打开屏幕第一反应：<strong>这触控板有点大啊。</strong>Rzaer Blade 15 配备的触控板比 Dell Inspiron 15 7560 大上一整圈，采用类玻璃材质，手感不错。触控板使用了微软 Precision 驱动，对 Windows 的各类手势支持良好。</p><p><strong>键盘总的来说还行</strong>，键程不短，触感不算太软，为平面键帽；没有小键盘，不过方向键的大小与其他键一致。有一点要吐槽的就是键盘的按键标识是上下颠倒的…也就是需要配合 <kbd>Shift</kbd> 使用的键的标识反而在直接使用的键的标识的下方…虽然影响不大，但打字时看到键盘着实觉得违和。</p><p>没有了小键盘，C 面多出来的空间被留给了扬声器。<strong>而这个声音…比较一般</strong>，整体听感有些薄而含混。不过好歹是 C 面朝上的双扬声器，声音还算清楚，而且立体声的感觉较强。加上自带的 Dolby Atmos 加成，<strong>总体听感还算可以。</strong></p><p>另外，开机键被藏在了右侧扬声器上方，没有灯，有些低调。</p><p><img width=\"2300\" height=\"2264\" class=\"aligncenter size-full wp-image-1392 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer6.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer6.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer6.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer6.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-300x295.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-768x756.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-1024x1008.jpg 1024w\" sizes=\"(max-width: 2300px) 100vw, 2300px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer6.jpg 2300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-300x295.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-768x756.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer6-1024x1008.jpg 1024w\" style=\"\"></p><h3>系统</h3><p>出厂带有 Windows 10 家庭版，预装雷蛇雷云。在雷云内不仅可以调整这台电脑的灯光、性能等设置，还可以一并调整所有连接到这台电脑的雷蛇外设的设置。</p><p><img width=\"1280\" height=\"719\" class=\"aligncenter size-full wp-image-1387 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer1.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer1.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer1.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer1.jpg 1280w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-300x169.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-768x431.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-1024x575.jpg 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer1.jpg 1280w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-300x169.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-768x431.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer1-1024x575.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">雷云 3 主界面</span></p><p><img width=\"1280\" height=\"719\" class=\"aligncenter size-full wp-image-1390 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer4.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer4.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer4.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer4.jpg 1280w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-300x169.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-768x431.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-1024x575.jpg 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer4.jpg 1280w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-300x169.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-768x431.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer4-1024x575.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">灯光拥有丰富的自定义选项（灯厂无疑了）</span></p><p><img width=\"434\" height=\"262\" class=\"aligncenter size-full wp-image-1389 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer3.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer3.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer3.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer3.jpg 434w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer3-300x181.jpg 300w\" sizes=\"(max-width: 434px) 100vw, 434px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer3.jpg 434w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer3-300x181.jpg 300w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">可以调整屏幕刷新率</span></p><p><img width=\"2500\" height=\"1875\" class=\"aligncenter size-full wp-image-1393 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFsbGxAAAA/JhxRAAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer7.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer7.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer7.jpg 2500w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer7-300x225.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer7-768x576.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer7-1024x768.jpg 1024w\" sizes=\"(max-width: 2500px) 100vw, 2500px\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">通过 Chroma 可以在支持的软件内使键盘背光与软件内容同步</span></p><p><strong>不过由于雷蛇的服务器在大陆一向不稳定，雷云在实际体验上真的是…一言难尽。</strong>有时候会莫名开机不自启、主面板无限加载、灯光配置无法应用…心累。</p><p>此外，显卡驱动似乎也不太稳定（这大概是英伟达的锅？）。偶尔屏幕会突然黑掉，需要合盖再开盖才能再次唤醒屏幕；甚至有一次我遇到了 10 分钟内连续两次蓝屏…至少从错误代码来看问题出在显卡驱动。不过这些问题遇到的几率也不大，一个月内绝大部分时间它还是正常工作的，显卡驱动也没有在我游戏的时候崩掉过。还算能用吧。</p><h3>性能</h3><p>作为妥妥的游戏本，Razer Blade 15 配备了 i7-9750H，RTX2070 Max-Q，16 GB 内存，<strong>性能自然是不差的，基本达到了这一水平笔记本的一般水准。</strong></p><p><img width=\"702\" height=\"400\" class=\"aligncenter size-full wp-image-1410 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer19.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer19.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer19.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer19.jpg 702w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer19-300x171.jpg 300w\" sizes=\"(max-width: 702px) 100vw, 702px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer19.jpg 702w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer19-300x171.jpg 300w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">CPU-Z 和 GPU-Z</span></p><p>i7-9750H 默频 2.60GHz，睿频可达 4GHz 左右，<strong>然而只是 30 秒真男人。</strong>25度室温、高性能模式下 30 秒左右的满负载就会让这块 CPU 撞墙，频率会掉到 3GHz 出头并稳定在此，<strong>而平衡模式则更快。</strong></p><p>Razer Blade 15 配备的是一块 Max-Q 版本的 RTX2070，<strong>而且是较低功耗 80W 的版本</strong>，猜测是为了散热考虑（毕竟这么薄了）。风扇全开散热时风扇声音较响，但仍能忍受；而且日常工作使用一般不会使风扇转起来，<strong>因此噪音控制还算不错。</strong></p><p>由于是这篇算是简评，并没有详测游戏，直接上跑分吧。室温 25 度， 平衡模式下 Cinebench R20 分数 1927，有些偏低；而使用高性能模式时分数直接飙到 2424 分，看来平衡模式功耗墙砍得比较狠。（顺便提一句，雷蛇甚至提供了功耗更低的性能方案，没有什么测试的必要就不测了。）</p><p><img width=\"753\" height=\"637\" class=\"aligncenter size-full wp-image-1405 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer17.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer17.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer17.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer17.jpg 753w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer17-300x254.jpg 300w\" sizes=\"(max-width: 753px) 100vw, 753px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer17.jpg 753w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer17-300x254.jpg 300w\" style=\"\"></p><p>在 3DMark Time Spy 测试下平衡模式 6283 分，高性能模式 6872 分，相比有一点的提升。只能说压得够狠。</p><p><img width=\"1920\" height=\"954\" class=\"aligncenter size-full wp-image-1406 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer18.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer18.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer18.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer18.jpg 1920w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-300x149.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-768x382.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-1024x509.jpg 1024w\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer18.jpg 1920w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-300x149.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-768x382.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer18-1024x509.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">平衡模式</span></p><p><img width=\"1920\" height=\"957\" class=\"aligncenter size-full wp-image-1408 LazyLoadPost mdx-img-in-post\" title=\"Razer Blade 灵刃 15 2019 精英版简评\" src=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer20.jpg\" data-original=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer20.jpg\" alt=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer20.jpg\" data-original-srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer20.jpg 1920w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-300x150.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-768x383.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-1024x510.jpg 1024w\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://img.flyhigher.top/wp-content/uploads/2019/07/razer20.jpg 1920w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-300x150.jpg 300w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-768x383.jpg 768w, https://img.flyhigher.top/wp-content/uploads/2019/07/razer20-1024x510.jpg 1024w\" style=\"\"></p><p style=\"text-align: center;\"><span style=\"color: #999999;\">高性能模式</span></p><p>至于这 16GB 的内存…至少我是完全够用，要升级的话也可以自行更换到最高 64GB。</p><h3>总结</h3><p>这已经不是雷蛇第一年做笔记本了。总的来看，雷蛇似乎已经有些摸清了门道。今年年中推出的配备 9 代 Intel CPU 的灵刃系列几乎可以说是在各个方面都做到了尽可能完美。当然问题也有一些，相信雷蛇可以在后续解决。总结一下我手头的这台笔记本吧。</p><p>优点：</p><ul><li>高性能的同时有较长续航</li><li>优秀的屏幕</li><li>干净的外观设计</li><li>薄而坚固的机身</li><li>较丰富的 IO</li><li>细节到位（Wi-Fi 6、Windows Hello 等等）</li></ul><p>缺点：</p><ul><li>价格稍高</li><li>驱动、软件等有些不稳定</li><li>为了散热有一定的性能损失</li><li>机身偏重</li></ul><p>当我正准备结束这篇简评的时候正好收到了雷蛇雷云驱动更新，其中包含了我这一型号的「问题修复与改进」。待会儿就去更新，看看雷蛇有没有解决一部分问题吧。</p><p>最后加一句，本文所有图片都是由一加 7 Pro 拍摄的，也就这样吧…</p></article>', 'bbb', 'https://flyhigher.top/diary/1411.html', '1', 0, '2019-07-28 00:00:01', '2019-07-28 00:00:02', '2019-07-28 11:45:15');
INSERT INTO `tb_article` VALUES (17, '服务器性能监控实践（一）—— 技术选型', 'https://kucloud.win/usr/uploads/2019/02/3751213830.png', 'PolyQY', '<div class=\"mdui-card-content\">\r\n								<p>本文主要介绍现阶段可快速构建的服务器性能监控系统，通过对比选出适用于作者所用场景的轻量级、可扩展性强的监控系统</p><!--more--><p><img src=\"https://kucloud.win/usr/uploads/2019/02/3713134454.png\" height=\"0px\" width=\"0px\" class=\"loaded\" data-was-processed=\"true\"><br>本文基于的应用场景是作者个人维护十数台可用性要求不是很高的非生产环境服务器（个人博客，团队git服务器等）。<br>那么这样的应用场景要求选用的系统尽量满足一下特性：</p><ul><li>免费/开源/便宜</li><li>快速</li><li>轻量</li><li>可扩展性强</li></ul><p>目前作者接触到的服务器监控系统大概有那么几个，全部都基于开源软件。传统老牌监控系统Zabbix和Nagios、基于Prometheus的监控系统解决方案和基于InfluxDB的解决方案。对比了这些方案后，作者选出了一种最适合的系统，只想看结论的同学请直接翻到文末。</p><h1>Zabbix 和 Nagios</h1><h2>Zabbix</h2><p><img src=\"https://kucloud.win/usr/uploads/2019/02/3751213830.png\" alt=\"Availability_report.png\" title=\"Availability_report.png\" class=\"loading\" data-was-processed=\"true\"><br><img src=\"https://kucloud.win/usr/uploads/2019/02/1522319286.png\" alt=\"Custom_screens.png\" title=\"Custom_screens.png\"><br>Zabbix 作为老牌的企业级服务器监控系统，功能非常强大。<br>官方介绍有许多功能，包括：</p><ul><li>几乎所有协议和数据结构的数据来源（包括SNMP, IPMI等基础设施管理协议）</li><li>极其丰富的配置项</li><li>丰富的API控制</li><li>完全的用户权限和认证系统，提供PAM支持</li><li>一站式的解决方案，可提供图表绘制、日志审查、报警等所有可能用到的健康度监控工具</li><li>自动发现设备和数据来源</li><li>自动化维护和检查</li><li>可自定义的前端样式</li></ul><p>功能强大的同时也相应的会带来重量级的问题，官方文档给出的要求是100个监控项的数量级至少需要128MB内存和256M硬盘来安装，实际使用中一般需要1GB内存和100G左右的硬盘来保证比较良好的可用性。<br>不过这样的问题仅仅是对于小规模应用场景来说的，真正企业级的应用中zabbix还是属于相当轻量的，也是当之无愧的首选。<br>Zabbix虽然提供了高度的可定制性和多到令人厌烦的配置选项，但是作为一站式方案的系统，系统耦合度很高，不利于大型、实力强的企业做二次开发和组件替换。<br>我个人在一年多前使用过一会zabbix，安装并不困难，甚至比Mysql的安装配置都简单，但是完成后监控配置十分负复杂，对于两位数的机器没有必要如此细致的配置。Zabbix适用于中型企业专门雇有2-3人运维团队的场景，对于个人非专职而言全套系统一一配置下来还是显得过于繁杂。<br>当然，Zabbix仍然不失为一个优秀的监控系统。</p><h1>Nagios</h1><p><img src=\"https://kucloud.win/usr/uploads/2019/02/765332687.png\" alt=\"images.png\" title=\"images.png\"></p><p>Nagios相比于Zabbix似乎更为的重量级，至少需要1GB的内存和8GB的硬盘来完成一次完整的安装。<br>与Zabbix提供的一体式解决方案不同，Nagios的系统更加组件化，提供给大型企业更大的自定义空间，组件间耦合度较Zabbix低。<br>我自己未安装使用过Nagios，因此不作过多评价。</p><p>总体而言，Zabbix和Nagios都是企业级的监控方案，主要面对企业用户开发，也适用于企业的应用场景。但是其部署和配置的过程十分烦琐，不符合我们“快速”的宗旨，所以不是特别合适。</p><h1>第三方监控服务</h1><p>第三方提供的监控服务从简单到复杂，从免费到收费，几乎应有尽有，只要你肯出钱，没有找不到的解决方案。如果你比较不愿意自己动手搭建，或者不愿意雇佣专职运维，这样的外包服务在公司规模较小的情况下还是很常见的。<br>当然，这很难满足我们“免费/便宜”原则，可扩展性相比于前文的两个企业解决方案更差。所以第三方的监控服务更适用于希望能够直接外包运维的非互联网甚至非技术型企业。</p><h1>基于Prometheus</h1><p>基于Prometheus的监控系统架构一般如下<br><img src=\"https://kucloud.win/usr/uploads/2019/02/2917840214.png\" alt=\"architecture.png\" title=\"architecture.png\"><br>或是这个简化版<br><img src=\"https://kucloud.win/usr/uploads/2019/02/3713134454.png\" alt=\"1.png\" title=\"1.png\"><br>Prometheus本身是一个时序数据库套件，提供了监控系统中的数据收集服务端和数据库的角色（也就是上图中的Prometheus Server部分），官方还提供了报警管理的模块（上图中Alert Manager)，因此我们还额外需要数据展示和数据收集的客户端（上图中Prometheus Target和Data Visualization）。</p><p>这一额外的部分有很多的选择。对于Target 可以有各种Exporter 在官方页面有列举。甚至任何支持metric格式输出的数据收集端，比如nNetdata、statsd等。数据可视化我们一般会选择Grafana，当然其它如Grafite等只要支持PromQL查询的都可以。</p><p>此套解决方案我不久前部署过，它的优点很多，包括了全部开源，模块化，可扩展性强，可以docker部署，部署非常简单。它也较为的轻量，完全部署仅需30M左右的内存。当然硬盘占用是跟随着数据量的增大而增大的，无数据情况下大约占用200-300M的硬盘空间。</p><h1>基于InfluxDB</h1><h2>TICK栈</h2><p><img src=\"https://kucloud.win/usr/uploads/2019/02/2353643527.jpg\" alt=\"ezgif.com-webp-to-jpg.jpg\" title=\"ezgif.com-webp-to-jpg.jpg\"><br>TICK是InfluxData官方主推的监控技术栈。<br>Telegraf+InfluxDB+Chronograf+Kapacitor，将整套系统拆分成为四个模块，模块化特征明显。因此任意支持InfluxDB读写的数据收集或者监控模块都可以使用。<br>TICK当然也可以使用docker-compose管理，无论是部署还是迁移都很方便。<br>Telegraf提供了近百种不同的系统健康信息收集，若是还不够用也可以自己写插件，具有非常强大的可扩展性。<br>Chronograf集成了Kapacitor的管理功能、InfluxDB的直接查询和Dashboard数据展示功能。不仅如此，前端设计也非常养眼。<br>同样地，TICK栈也拥有与Prometheus媲美的优势——轻量、可扩展性强等等。下面我们就会讲到使用Grafana扩展数据可视化的功能。</p><h2>TICGK栈</h2><p>虽然官方开发的Chronograf已经拥有精美的图表可以显示，但是论数据可视化，Grafana是难以逾越的强大开源方案。因此我们在TICK中加入Grafana，成为TICGK栈，这样一来几乎所有的优点都被涵盖了。虽然五个容器会带来磁盘和内存占用增大的影响，但是对比于异常强大的功能和简单易用的界面，这个技术栈完全适合作者的应用场景。也许在高并发和大数据量的场景下TICGK栈表现会下降，但是作为个人使用，担心并发无疑是杞人忧天。</p><p>毫无疑问，最后作者选择部署的就是TICGK栈，使用docker-compose管理（就几个容器没必要k8s吧）。目前状况良好，总体内存占用60M左右，设置了5s的时间粒度，15天周期后预计的硬盘使用是4GB，还是可以接受的。存在一个现象就是5s的粒度会带来Telegraf内存占用问题，开了很多Buffer，但是事实上Buffer什么的并不真正影响啊。</p><p>看完作者的选型，你有什么想法呢？欢迎在评论区交流。<br>才疏学浅，若有错漏，也恳请指正。</p><p>敬请期待下一篇——服务器性能监控（二）</p>							</div>', 'good', 'https://kucloud.win/archives/136/?t=1565582746614', '1', 0, '2019-07-24 21:00:01', '2019-07-25 00:00:01', '2019-07-24 05:55:01');
INSERT INTO `tb_article` VALUES (18, '「Suka」· 简洁 现代 强大的 Hexo 主题', 'https://ae01.alicdn.com/kf/H91d7340ddf394a2cb85c466eb09de5cfZ.png', 'Sukka', '<article id=\"post-content\"><h1 id=\"说在前面\"><a href=\"#说在前面\" class=\"headerlink\" title=\"说在前面\"></a>说在前面</h1><p>首先，有一点我必须承认，你们也可以注意到，这篇介绍我的主题的文章，是我这个博客实质上的第一篇文章。</p><a id=\"more\"></a><p>或许是因为学业繁忙，虽然已经很向往讲讲故事、写写自己的近况，但是一直没有下定决心。直到看到了很多大佬都有自己的独立博客，这才下定决心在假期搭建一个独立博客。由于囊中羞涩，我最终选择了可以在任何地方部署的静态博客，最后我选择了 Hexo。</p><h1 id=\"Why「Suka」\"><a href=\"#Why「Suka」\" class=\"headerlink\" title=\"Why「Suka」?\"></a>Why「Suka」?</h1><p>在 Hexo 官网上挑选主题时，看到了简洁而很强大的「NexT」主题，很漂亮也很强大的「Material」主题，但是毕竟第一次接触 Hexo 这个博客系统，与其直接去用别人现成的，不如自己写一个主题，不仅可以让自己的博客能够满足自己喜欢的风格，还可以深入了解一下 Hexo 的 API 和机制。而且看到自己脑海中的构想和纸上的两三笔涂鸦的草图逐渐变成现实，然后一点点客服困难、又不得不向现实妥协、提出 Workround 方案，这个过程也是一种享受。</p><p>刚开始做这个主题的时候，还在忐忑着做不到一半主题就夭折了，于是就定了一个 <code>0.0.1</code> 的版本号。<br>经过一个月的开发，掉进一个又一个坑，终于在将近 100 个 commit 过后，我把版本号升到了 <code>1.0.0</code>。</p><p>因为追求整洁和干净利落（说白了就不是水平不够写不了太花哨的东西…），最后整个主题的风格就是简洁单列主题设计。但是即便如此，「Suka」依然能够驾驭各种风格，无论是纯文字还是多图流。</p><p>虽然定位只是自用的主题，但是又不想自己的主题落后于其他人。别的主题有的功能，即使我用不上也都得有。于是就连版本号才刚刚到达 1.0.0 的主题拥有了以下特性：</p><ul><li>7 种评论系统（搜狐畅言、Disqus、gitalk、gitment、来必力、Valine、wildfire）</li><li>4 种站点访问统计（百度、Google、CNZZ，和静态页面常用的 不蒜子计数系统）</li><li>6 种社交媒体分享方式</li><li>内置二维码生成插件、代码高亮插件、搜索插件</li><li>支持背景颜色、链接颜色、按钮颜色自定义</li></ul><h1 id=\"More\"><a href=\"#More\" class=\"headerlink\" title=\"More\"></a>More</h1><h2 id=\"官网\"><a href=\"#官网\" class=\"headerlink\" title=\"官网\"></a>官网</h2><p><a href=\"https://theme-suka.skk.moe\" rel=\"noopener\" target=\"_blank\">https://theme-suka.skk.moe</a></p><h2 id=\"文档\"><a href=\"#文档\" class=\"headerlink\" title=\"文档\"></a>文档</h2><p><a href=\"https://theme-suka.skk.moe/docs\" rel=\"noopener\" target=\"_blank\">https://theme-suka.skk.moe/docs</a></p><h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h2><p><a href=\"https://theme-suka.skk.moe/demo\" rel=\"noopener\" target=\"_blank\">https://theme-suka.skk.moe/demo</a></p><h2 id=\"GitHub\"><a href=\"#GitHub\" class=\"headerlink\" title=\"GitHub\"></a>GitHub</h2><p><a href=\"https://github.com/SukkaW/hexo-theme-suka\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://github.com/SukkaW/hexo-theme-suka</a></p><p><img src=\"https://ae01.alicdn.com/kf/HTB1i8jBB2uSBuNkHFqD760fhVXaD.png\" alt=\"hexo-suka.png\" class=\"lazyload loaded\" data-srcset=\"https://ae01.alicdn.com/kf/HTB1i8jBB2uSBuNkHFqD760fhVXaD.png\" srcset=\"https://ae01.alicdn.com/kf/HTB1i8jBB2uSBuNkHFqD760fhVXaD.png\" data-was-processed=\"true\"></p><blockquote class=\"post-license\"><p><strong>本文作者 : Sukka</strong><br><strong>本文采用 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" rel=\"nofollow noopener noreferrer external nofollow noopener noreferrer\" target=\"_blank\">CC BY-NC-SA 4.0</a> 许可协议。转载和引用时请注意遵守协议！</strong><br><strong>本文链接 :</strong> <a href=\"https://blog.skk.moe/post/theme-suka/\">https://blog.skk.moe/post/theme-suka/</a></p></blockquote></article>', 'good', 'https://blog.skk.moe/post/theme-suka/', '1', 0, '2019-08-02 00:00:01', '2019-08-09 00:00:02', '2019-08-01 18:22:03');
INSERT INTO `tb_article` VALUES (19, 'Hexo 性能测试', 'https://ae01.alicdn.com/kf/Hae9a679e2e0c45858eaa16347257fac0I.png', 'lisi', '<article id=\"post-content\"><p>Hexo 是一款基于 NodeJS 的静态博客框架。但是随着文章越来越多，需要生成的页面数量越来越多，Hexo 也出现了性能瓶颈：在 <a href=\"https://github.com/hexojs/hexo/issues\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Hexo 的 issue 页面</a> 搜索 <code>performance</code> 可以找到不少关于 Hexo 性能问题的反馈。</p><a id=\"more\"></a><h2 id=\"测试环境\"><a href=\"#测试环境\" class=\"headerlink\" title=\"测试环境\"></a>测试环境</h2><ul><li>Travis CI</li><li>Ubuntu 16.04</li><li>NodeJS 8.16.0、10.16.2、12.8.0</li><li>Hexo：3.9.0</li><li>Theme：<a href=\"https://github.com/SukkaW/hexo-theme-suka\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">hexo-theme-suka</a></li><li><a href=\"https://github.com/theme-suka/hexo-theme-unit-test\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://github.com/theme-suka/hexo-theme-unit-test</a></li></ul><p>测试使用 300+ 篇文章，每篇文章都有 1 个分类和 5 个不同的完全不同的标签（也就是生成总计超过 300 个 categories 和 1500 个 tags），每篇文章包括所有常见 markdown 元素和多个不同语言的代码块，<a href=\"https://github.com/SukkaLab/hexo-many-posts\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">文章样本在这里</a>。</p><p>在性能测试前将所有 css、js 和图片文件全部删除，确保生成的文件全部都是渲染生成的 HTML 文件；所有测试都使用 <code>hexo clean &amp;&amp; hexo g</code>，确保完全冷启动。</p><h2 id=\"测试结果\"><a href=\"#测试结果\" class=\"headerlink\" title=\"测试结果\"></a>测试结果</h2><p>每轮测试两次；每次 <code>hexo clean &amp;&amp; hexo g</code> 都会生成 694 个文件；基准测试是最优条件：启用 Fragment Cache，完全不启用 Highlight.js。</p><table><thead><tr><th></th><th align=\"center\">NodeJS 8</th><th align=\"center\">NodeJS 10</th><th align=\"center\">NodeJS 12</th></tr></thead><tbody><tr><td>Baseline</td><td align=\"center\">26.5</td><td align=\"center\">21</td><td align=\"center\">21.5</td></tr><tr><td>Disable Fragment Cache</td><td align=\"center\">35</td><td align=\"center\">29</td><td align=\"center\">29.5</td></tr><tr><td>Enable highlight.js only</td><td align=\"center\">35</td><td align=\"center\">27</td><td align=\"center\">27.5</td></tr><tr><td>Enable highlight.js &amp; line_number</td><td align=\"center\">38</td><td align=\"center\">30</td><td align=\"center\">30</td></tr><tr><td>Enable highlight.js &amp; tab_replace</td><td align=\"center\">34.5</td><td align=\"center\">27</td><td align=\"center\">28</td></tr><tr><td>Enable highlight.js, tab_replace &amp; line_number</td><td align=\"center\">38</td><td align=\"center\">30</td><td align=\"center\">31</td></tr></tbody></table><p>原始测试结果可以看 <a href=\"https://travis-ci.com/theme-suka/performance-test\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Travis CI Build Log</a>。</p><h3 id=\"Fragment-Cache\"><a href=\"#Fragment-Cache\" class=\"headerlink\" title=\"Fragment Cache\"></a>Fragment Cache</h3><p>Fragment Cache 是 Hexo 模仿 Ruby on Rails 的思路做的缓存功能。对于一些重复且耗时的渲染进行缓存可以大大减少生成用时。</p><p>在测试中，禁用 Fragment Cache 的生成用时比基准测试增加 <code>32%</code> 至 <code>37%</code> 左右。</p><h3 id=\"Highlight-js\"><a href=\"#Highlight-js\" class=\"headerlink\" title=\"Highlight.js\"></a>Highlight.js</h3><p>Hexo 内置的 Highlight.js 速度缓慢，在 Hexo 2.x 时就令人诟病，即使到了 Hexo 3.x 进行了优化，随生成用时的影响也非常明显。</p><p>在测试用，光光启用 Highlight.js（不启用其它选项）的生成用时比基准测试增加了 <code>28%</code> 至 <code>32%</code> 左右；如果启用 Highlight.js 和 line_number，生成用时将会增加 <code>40%</code> 至 <code>43%</code> 左右；启用 Highlight.js 和 tab_replace 生成用时将会增加 <code>28%</code> 至 <code>30%</code>；如果同时启用上述选项，生成用时会增加 <code>43%</code> 至 <code>44%</code>。</p><h3 id=\"NodeJS-Version\"><a href=\"#NodeJS-Version\" class=\"headerlink\" title=\"NodeJS Version\"></a>NodeJS Version</h3><p>从测试结果来看，NodeJS 8 的性能最差，NodeJS 10 和 NodeJS 12 的性能相近，NodeJS 12 略逊于 NodeJS 10。在各项测试中，NodeJS 10 和 NodeJS 12 都超过 NodeJS 8 性能将近 20%。</p><h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><p>如果把 issue 和讨论的内容归纳一下，涉及到的就是那几个方面：</p><ul><li><a href=\"https://github.com/hexojs/hexo/issues/1036\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Highlight.js</a></li><li><a href=\"https://github.com/hexojs/hexo/issues/1769\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Fragment Cache</a></li><li><a href=\"https://github.com/hexojs/hexo/issues/2164\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Hexo Pipeline</a></li></ul><p>禁用 Highlight.js 无疑可以大大提升渲染速度，因为如果将代码高亮做在前端，那么用户在访问的时候，浏览器需要渲染一次代码高亮；如果交给 Hexo 来渲染，就必须遍历所有文章。</p><p>除此以外可以注意到的是，即使是在最优条件下，Hexo 平均每秒钟也只能生成 33 个文件；Hexo 目前仍然是单核渲染，多核渲染可以是以后一个优化的方向。</p><blockquote class=\"post-license\"><p><strong>本文作者 : Sukka</strong><br><strong>本文采用 <a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" rel=\"nofollow noopener noreferrer external nofollow noopener noreferrer\" target=\"_blank\">CC BY-NC-SA 4.0</a> 许可协议。转载和引用时请注意遵守协议！</strong><br><strong>本文链接 :</strong> <a href=\"https://blog.skk.moe/post/hexo-performance/\">https://blog.skk.moe/post/hexo-performance/</a></p></blockquote></article>', 'good', 'https://blog.skk.moe/post/hexo-performance/', '1', 0, '2019-08-13 00:00:01', '2019-08-08 00:00:02', '2019-08-09 10:24:39');
INSERT INTO `tb_article` VALUES (20, '[WP酷专享特惠] PANDA PRO – 昼夜双版 WORDPRESS 双栏科技资讯主题', 'https://cdn.mywpku.com/wp-content/uploads/2019/06/pandapro-featured.png', 'zhangsan', '<section class=\"article\" itemprop=\"articleBody\"><meta itemprop=\"inLanguage\" content=\"zh-CN\"><p><a href=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/pandapro-featured.png\" alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" title=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" class=\"external\" target=\"_blank\"><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"aligncenter\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/pandapro-featured.png\" width=\"300\" height=\"200\"></a></p><p>在 nicetheme 7 周年到来之际，我们带来了全新的 Panda PRO 主题，定位资讯类站点，丰富的布局及文章样式，无论是视频、文字、图片，都能得到淋漓尽致的展示；跨屏响应式布局，自动适应手机、平板、电脑等设备。&nbsp;令人惊叹的昼夜双版设计，精心打磨的一处处细节，一切从心出发，从零开始，只为让您的站点拥有速度与优雅兼具的极致体验。</p><p>全新的 Panda PRO 主题，希望你们会喜欢。</p><ul><li><strong>丰富的网站样式：</strong>3 种首页幻灯片样式，5 种文章样式，文字、视频、图片轻松搞定</li><li><b>主题支持：</b>详尽的设置教程；响应和视网膜；适用于所有设备，支持高质量的图像和文字。</li><li><strong>专题归纳：</strong>列表页可插入文章专题栏目，网站干货一目了然。</li><li><strong>支持微信、QQ、微博一键分享：</strong>微信分享至朋友圈有图有标题有描述，二维码扫码分享，快捷高效。</li><li><strong>点赞、评论、打赏样样俱全：</strong>丰富的用户交互体验</li><li><strong>评论/登录可见内容：</strong>文章可设置限定内容，可设置评论/登录可见内容</li><li><strong>全局夜晚模式：</strong>全然不同的新风格，屏幕上的每个元素都经过精心设计，优雅且让眼睛更舒适</li><li><strong>好用的主题配置后台：</strong>强大的后台配置框架，清晰有序的设置模块，小白也能快速配置</li></ul><div class=\"shortcode-message shortcode-notice\"><p></p><p>WP酷专享优惠：下单时填写优惠码&nbsp;<strong><span style=\"color: #ff0000;\">wpkupanda</span></strong>&nbsp;立减 66.66 元！即日起至 6 月 30 日，nicetheme 老用户 / 会员下单立享 6 折优惠，超级会员立享 5 折优惠！</p><p></p></div><p>演示地址：<a href=\"https://demo.nicetheme.xyz/panda-pro-style-one/\" class=\"external\" target=\"_blank\">https://demo.nicetheme.xyz/panda-pro-style-one/</a> 或&nbsp;<a href=\"https://www.ugediao.com/\" class=\"external\" target=\"_blank\">https://www.ugediao.com/</a></p><p>购买地址：<a href=\"https://www.nicetheme.cn/store/pandapro\" class=\"external\" target=\"_blank\">https://www.nicetheme.cn/store/pandapro</a></p><p>&nbsp;</p><h2>主题截图</h2><p>1、首页截图</p><p><a href=\"https://cdn.mywpku.com/pandapro-index.png\" alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" title=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" class=\"external\" target=\"_blank\"><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone\" src=\"https://cdn.mywpku.com/pandapro-index.png\" width=\"1680\" height=\"5748\"></a></p><p>&nbsp;</p><p>2、文章页截图</p><p><a href=\"https://cdn.mywpku.com/pandapro-single.png\" alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" title=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题\" class=\"external\" target=\"_blank\"><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone\" src=\"https://cdn.mywpku.com/pandapro-single.png\" width=\"1680\" height=\"5072\"></a></p><p>&nbsp;</p><h2>主题特点</h2><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8779\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/2019061920411386-1.png\" width=\"1024\" height=\"650\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/2019061920411386-1.png 1024w, https://cdn.mywpku.com/wp-content/uploads/2019/06/2019061920411386-1-300x190.png 300w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8780\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8781\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/10-1.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/10-1.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/10-1-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/10-1-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8782\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/11-1.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/11-1.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/11-1-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/11-1-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8783\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8784\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/8-cpr-1.png\" width=\"940\" height=\"596\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/8-cpr-1.png 940w, https://cdn.mywpku.com/wp-content/uploads/2019/06/8-cpr-1-300x190.png 300w\" sizes=\"(max-width: 940px) 100vw, 940px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8785\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8786\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8787\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/2-cxn-1.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/2-cxn-1.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/2-cxn-1-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/2-cxn-1-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8788\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/1-lw9-1.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/1-lw9-1.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/1-lw9-1-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/1-lw9-1-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8789\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/4-tzo-1.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/4-tzo-1.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/4-tzo-1-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/4-tzo-1-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8786\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/5-zcj-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8785\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/6-euh-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8783\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/7-ozc-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p><img alt=\"[WP酷专享特惠] Panda PRO - 昼夜双版 WordPress 双栏科技资讯主题-WP酷\" class=\"alignnone size-full wp-image-8780\" src=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2.png\" width=\"1280\" height=\"812\" srcset=\"https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2.png 1280w, https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2-300x190.png 300w, https://cdn.mywpku.com/wp-content/uploads/2019/06/9-2-1024x650.png 1024w\" sizes=\"(max-width: 1280px) 100vw, 1280px\"></p><p>&nbsp;</p><div class=\"activity-btn\"><a class=\"like-btn button-original\" pid=\"8757\" href=\"javascript:;\" title=\"赞一个\"><i class=\"fa fa-heart-o\">&nbsp;</i>赞一个 [<span>4</span>]</a><a class=\"collect collect-no button-original collect-btn\" title=\"你必须注册并登录才能收藏\"><i class=\"fa fa-star-o\">&nbsp;</i>收藏 (<span>0</span>)</a></div></section>', 'good', 'https://www.mywpku.com/pandapro.html', '1', 0, '2019-08-13 00:00:01', '2019-08-08 00:00:02', '2019-08-09 18:28:27');
INSERT INTO `tb_article` VALUES (21, 'Typecho性能优化实践', 'https://kucloud.win/usr/uploads/2018/07/2526434504.jpg', 'PolyQY', '<div class=\"mdui-card-content\">\r\n								<p>本文将从全栈角度分析typecho性能提升关键，并最终实现首屏时间缩短到1s以内</p><!--more--><p><img src=\"https://kucloud.win/usr/uploads/2018/07/3084093818.jpg\" alt=\"pic_quark_1531742326254.jpg\" title=\"pic_quark_1531742326254.jpg\" class=\"loaded\" data-was-processed=\"true\"><br>文中服务器是用的是tsukaeru 日本2核1G内存 50G SSD 100Mbps网络的KVM架构vps 到国内电信延迟约150ms<br>IO约170MB/s(超过1Gbps), UnixBench 双核跑分1400左右<br>对于个人网站来说算是中等偏上的配置</p><h1>后端</h1><h2>PHP</h2><p>php版本毋庸置疑地影响着以php架构的typecho的运行<br>php7 相比于php5.x 性能的提升是质的飞跃<br>同样的typecho版本分别在两个版本的php下执行时间想去甚远<br>在typecho根目录下执行index.php时间对比</p><pre><code class=\"hljs properties\"><span class=\"hljs-meta\">user@fqdn</span>:<span class=\"hljs-string\"># time php index.php &gt; /dev/null 2&gt;&amp;1 </span>\r\n<span class=\"hljs-attr\">real</span>    <span class=\"hljs-string\">0m1.525s</span>\r\n<span class=\"hljs-attr\">user</span>    <span class=\"hljs-string\">0m0.180s</span>\r\n<span class=\"hljs-attr\">sys</span>     <span class=\"hljs-string\">0m0.036s</span>\r\n<span class=\"hljs-comment\"># php5.6.33</span></code></pre><pre><code class=\"hljs properties\"><span class=\"hljs-meta\">user@fqdn</span>:<span class=\"hljs-string\"># time php index.php &gt; /dev/null 2&gt;&amp;1 </span>\r\n<span class=\"hljs-attr\">real</span>    <span class=\"hljs-string\">0m0.178s</span>\r\n<span class=\"hljs-attr\">user</span>    <span class=\"hljs-string\">0m0.067s</span>\r\n<span class=\"hljs-attr\">sys</span>     <span class=\"hljs-string\">0m0.006s</span>\r\n<span class=\"hljs-comment\"># php7.2.7</span></code></pre><p>php性能直接影响TTFB(首字节时间)，趁早升级吧。</p><h2>Opcache</h2><p><code>Opcache</code>是php缓存器，类似的还有<code>eAccelerater</code>等。<br><code>Opcache</code>加入编译可以进一步加速高并发时php的效率<br>通常而言php官方源中已经加入Opcache，各大一键lnmp脚本或管理面板都会安装Opcache<br>以下是多次执行后再次执行index.php的耗时</p><pre><code class=\"hljs properties\"><span class=\"hljs-meta\">user@fqdn</span>:<span class=\"hljs-string\"># time php index.php &gt; /dev/null 2&gt;&amp;1 </span>\r\n<span class=\"hljs-attr\">real</span>    <span class=\"hljs-string\">0m0.093s</span>\r\n<span class=\"hljs-attr\">user</span>    <span class=\"hljs-string\">0m0.037s</span>\r\n<span class=\"hljs-attr\">sys</span>     <span class=\"hljs-string\">0m0.007s</span>\r\n<span class=\"hljs-comment\"># php7.2.7 第二次执行</span></code></pre><p>可以看出，此时php执行已经非常快了，若是在国内或是香港的vps上，TTFB已经可以缩短到通常建议的300ms以下了</p><h2>Mencached</h2><p>通常大型php站点都会配置页面缓存，这样在高并发下的性能优势非常突出。<br>typecho作为轻量级博客框架，并没有自带Memcached缓存的功能。好在插件总是万能的<br>推荐一个<a href=\"https://github.com/phpgao/TpCache\" data-pjax-state=\"\">TpCache插件</a><br>支持Memcache, Memcached和Redis，功能算是比较完善的了。<br>开启缓存插件后高并发瓶颈从cpu性能变成了网络带宽(100Mbps占满)。</p><p>下图是在loader.io压测下1700并发一分钟的结果<br><img src=\"https://kucloud.win/usr/uploads/2018/07/2526434504.jpg\" alt=\"PSX_20180715_161733.jpg\" title=\"PSX_20180715_161733.jpg\"><br><img src=\"https://kucloud.win/usr/uploads/2018/07/3243333678.jpg\" alt=\"PSX_20180715_161716.jpg\" title=\"PSX_20180715_161716.jpg\"><br><img src=\"https://kucloud.win/usr/uploads/2018/07/2497857299.jpg\" alt=\"PSX_20180715_161658.jpg\" title=\"PSX_20180715_161658.jpg\"><br>安利一下loader.io，这是一个sendgrid旗下的压力测试工具，免费版最高可以使用美每秒850新链接。</p><p>此时服务器cpu占用仍维持在80%左右，nginx两个worker process 各30% ，memcached 和php-fpm 均在10%以下<br>mysql为0%</p><p>实际可以达到的并发数大概在1000~1100并发左右，这对于个人网站来说，除非遭到ddcc，根本不可能有如此大的并发数。</p><h2>Nginx</h2><h3>Worker Process</h3><p>一般而言推荐保持和CPU核心数一样，比如2。<br>默认的配置是1，如果在多核服务器上这会导致CPU仅利用一核。<br>也可以配置为auto。</p><h3>TcpFastOpen</h3><p>TFO 可以使在session过期前再次发起tcp链接的时候不需要再次进行3次握手，直接传输数据，对于服务器放在国外的网站还是很有用的，tcp握手通常需要花费200ms以上的时间，这对于1s左右的加载时间还是不可忽视的。</p><p>在Nginx配置的server段监听端口后添加tcpfastopen=3</p><p>如</p><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\"><span class=\"hljs-nomarkup\">listen</span></span> 443 ssl tcpfastopen=3 ;</code></pre><h2>Linux Kernel</h2><p>同样也有tcpfastopen 设置，开启方法大家google一下</p><p>推荐开启BBR tcp拥塞算法<br>对于Ubuntu 16.04, 可以执行</p><pre><code class=\"hljs ruby\">echo <span class=\"hljs-string\">\'net.core.default_qdisc=fq\'</span> <span class=\"hljs-meta\">&gt;&gt; </span>/etc/sysctl.conf\r\necho <span class=\"hljs-string\">\'net.ipv4.tcp_congestion_control=bbr\'</span> <span class=\"hljs-meta\">&gt;&gt; </span>/etc/sysctl.conf</code></pre><p>如果系统默认的文件打开数太小，可以扩大一些<br>比如Ubuntu默认1024，高并发时可能会出现文件打开数过多的错误。<br>使用以下命令</p><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">ulimit</span> -n 50000</code></pre><p>可以添加到启动脚本以实现每次开机自动调整nofile限制。</p><h1>前端</h1><h2>js异步加载</h2><p>非异步加载的JavaScript会阻塞DOM load事件，因为js可以修改dom tree 故浏览器在js执行时不会进行渲染。<br>但是其实很多js都是不操作dom树的，比如用户统计所用的js和页面交互的js。我们可以使用 async 和defer 使得这些js的加载不阻塞浏览器渲染</p><h2>CSS 压缩</h2><p>css压缩是用gulp-minify 实现的，在主题发布时已经完成。</p><h2>PJAX</h2><p>PJAX = pushState + AJAX<br>事实上就是ajax异步传输页面内容后用pushState更新浏览器历史记录，统计数据等。<br>这样使得我们不需要重新渲染页脚，侧栏等页面共有的部分。<br>实现方法可以参考New Material主题。<br>盲目地全页面pjax反倒是适得其反的。</p><h2>Lazyload</h2><p>非首屏图片懒加载，也就是直到图片进入视野中时才加载图面，这样在加载首屏时就可以节省很多时间。<br>实现方法也可以参考New Material主题。</p><h1>最终效果</h1><p><img src=\"https://kucloud.win/usr/uploads/2018/07/811845698.jpg\" alt=\"PSX_20180715_164021.jpg\" title=\"PSX_20180715_164021.jpg\"><br><img src=\"https://kucloud.win/usr/uploads/2018/07/2004830255.jpg\" alt=\"PSX_20180715_163946.jpg\" title=\"PSX_20180715_163946.jpg\"></p><p>可以看到，在这样的网络延迟下，DOM树加载完毕仅在html下载完成后一百多毫秒，ttfb也是接近网络延迟，服务器处理时间仅有二十几毫秒。这次的性能优化还是很有效果的。</p><p>水平有限，如有错误之处欢迎指正。</p>							</div>', 'good', 'https://kucloud.win/archives/93/?t=1565692052438', '1', 0, '2019-08-13 00:00:01', '2019-08-08 00:00:02', '2019-08-10 10:30:10');

-- ----------------------------
-- Table structure for tb_article_category
-- ----------------------------
DROP TABLE IF EXISTS `tb_article_category`;
CREATE TABLE `tb_article_category`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `article_id` bigint(20) NOT NULL COMMENT '文章id',
  `category_id` bigint(20) NOT NULL COMMENT '分类id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文章_分类_关联表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_article_category
-- ----------------------------
INSERT INTO `tb_article_category` VALUES (2, 14, 2);
INSERT INTO `tb_article_category` VALUES (3, 17, 1);
INSERT INTO `tb_article_category` VALUES (4, 19, 1);
INSERT INTO `tb_article_category` VALUES (5, 21, 1);
INSERT INTO `tb_article_category` VALUES (6, 15, 2);

-- ----------------------------
-- Table structure for tb_article_tags
-- ----------------------------
DROP TABLE IF EXISTS `tb_article_tags`;
CREATE TABLE `tb_article_tags`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `article_id` bigint(20) NOT NULL COMMENT '文章id',
  `tags_id` bigint(20) NOT NULL COMMENT '标签id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文章_标签_关联表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_article_tags
-- ----------------------------
INSERT INTO `tb_article_tags` VALUES (1, 14, 2);

-- ----------------------------
-- Table structure for tb_category
-- ----------------------------
DROP TABLE IF EXISTS `tb_category`;
CREATE TABLE `tb_category`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_category
-- ----------------------------
INSERT INTO `tb_category` VALUES (1, '技术');
INSERT INTO `tb_category` VALUES (2, '闲聊');

-- ----------------------------
-- Table structure for tb_comments
-- ----------------------------
DROP TABLE IF EXISTS `tb_comments`;
CREATE TABLE `tb_comments`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `p_id` bigint(20) NULL DEFAULT 0 COMMENT '父级id，给哪个留言进行回复',
  `c_id` bigint(20) NULL DEFAULT 0 COMMENT '子级id，给哪个留言下的回复进行评论',
  `article_title` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文章标题',
  `article_id` bigint(20) NULL DEFAULT NULL COMMENT '文章id',
  `author` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '留言人',
  `author_id` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '给谁留言',
  `email` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '留言邮箱',
  `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '留言内容',
  `time` timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '留言时间',
  `url` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '链接',
  `state` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '正常' COMMENT '状态',
  `sort` bigint(20) NULL DEFAULT 0 COMMENT '分类：0默认文章详情页，1友链页，2关于我页',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '评论表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for tb_tags
-- ----------------------------
DROP TABLE IF EXISTS `tb_tags`;
CREATE TABLE `tb_tags`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标签名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '标签表' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_tags
-- ----------------------------
INSERT INTO `tb_tags` VALUES (1, '测试');
INSERT INTO `tb_tags` VALUES (2, '随性');
INSERT INTO `tb_tags` VALUES (3, 'spring');

-- ----------------------------
-- Table structure for tb_user
-- ----------------------------
DROP TABLE IF EXISTS `tb_user`;
CREATE TABLE `tb_user`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `username` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '用户名',
  `nickname` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '' COMMENT '昵称',
  `password` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '密码',
  `experience` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '经验值',
  `email` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '邮箱',
  `avatar` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '头像',
  `role` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'ROLE_USER',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 21 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '个人信息' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of tb_user
-- ----------------------------
INSERT INTO `tb_user` VALUES (1, 'Sept.05', '香蕉你个不拿拿', '123', '0', '999@qq.com', '../../../../static/img/default_avatar/user_avatar05.png', 'ROLE_ADMIN');
INSERT INTO `tb_user` VALUES (2, 'zhangsan', '小三', '123', '0', NULL, '../../../../static/img/default_avatar/user_avatar07.png', 'ROLE_USER');
INSERT INTO `tb_user` VALUES (3, 'lisi', '小四', '123', '0', NULL, '../../../../static/img/default_avatar/user_avatar06.png', 'ROLE_USER');
INSERT INTO `tb_user` VALUES (4, 'wangwu', '大五', '123', '0', NULL, '../../../../static/img/default_avatar/user_avatar09.png', 'ROLE_USER');
INSERT INTO `tb_user` VALUES (18, 'zhaoliu', 'c4ada89b-0018-4f4b-b34b-828b9006d930', '123', '0', '1@q.com', '../../../../static/img/default_avatar/user_avatar04.png', 'ROLE_USER');
INSERT INTO `tb_user` VALUES (19, '无垠', '无垠', '456', '0', 'wuhen@qq.com', '../../../../static/img/default_avatar/user_avatar03.png', 'ROLE_USER');
INSERT INTO `tb_user` VALUES (20, 'PolyQY', 'PolyQY', '456', '0', 'PolyQY@qq.com', '../../../../static/img/default_avatar/user_avatar05.png', 'ROLE_USER');

SET FOREIGN_KEY_CHECKS = 1;
